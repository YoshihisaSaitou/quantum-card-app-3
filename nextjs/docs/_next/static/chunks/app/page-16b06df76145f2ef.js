(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4305:(e,a,n)=>{Promise.resolve().then(n.bind(n,8152))},4146:(e,a,n)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var n in a)Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}(a,{default:function(){return c},getImageProps:function(){return i}});let m=n(306),t=n(666),u=n(7970),r=m._(n(5514));function i(e){let{props:a}=(0,t.getImgProps)(e,{defaultLoader:r.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/quantum-card-app/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(a))void 0===n&&delete a[e];return{props:a}}let c=u.Image},8152:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>p});var m=n(5155),t=n(2115);function u(e){let{onShuffle:a,onBind:n,onVertical:u}=e,[r,i]=(0,t.useState)(!1),c=e=>{e()};return(0,m.jsxs)("div",{className:"absolute top-4 right-4 z-999",children:[(0,m.jsxs)("button",{onClick:()=>{i(!r)},className:"cursor-pointer flex flex-col justify-center items-center w-12 h-12 bg-white rounded-lg shadow-lg hover:bg-gray-100 transition-colors","aria-label":"メニューを開く",children:[(0,m.jsx)("span",{className:"block w-6 h-0.5 bg-gray-600 transition-all duration-300 ".concat(r?"rotate-45 absolute top-0 bottom-0 m-auto":"")}),(0,m.jsx)("span",{className:"block w-6 h-0.5 bg-gray-600 mt-1.5 transition-all duration-300 ".concat(r?"opacity-0":"")}),(0,m.jsx)("span",{className:"block w-6 h-0.5 bg-gray-600 transition-all duration-300 ".concat(r?"rotate-135 absolute top-0 bottom-0 m-auto":"mt-1.5")})]}),r&&(0,m.jsx)("div",{className:"absolute top-14 right-0 bg-white rounded-lg shadow-lg border border-gray-200 min-w-32",children:(0,m.jsx)("nav",{children:(0,m.jsxs)("ul",{className:"py-2",children:[(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:()=>c(a),className:"cursor-pointer w-full text-left px-4 py-2 text-black transition-colors",children:"混ぜる"})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:()=>c(n),className:"cursor-pointer w-full text-left px-4 py-2 text-black transition-colors",children:"束ねる"})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:()=>c(u),className:"cursor-pointer w-full text-left px-4 py-2 text-black transition-colors",children:"縦にする"})})]})})})]})}function r(e,a){return Math.floor(Math.random()*(a-e+1)+e)}function i(){return"/quantum-card-app/images/99.jpg"}function c(e){return"pageX"in e&&"pageY"in e?{pageX:e.pageX,pageY:e.pageY}:"changedTouches"in e&&e.changedTouches.length>0?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY}:{pageX:0,pageY:0}}var o=n(4146),l=n.n(o);function s(e){let{src:a,name:n,commentary:u,faceUpFileName:r,handleMouseDown:c,handleMouseMove:o,handleMouseUp:s,handleDoubleClick:f,top:_,left:p,width:g,transform:d,isShuffling:j,isBinding:y,isVertical:h,zIndex:q,dataCardIndex:x}=e,b=(0,t.useRef)(null);return(0,m.jsx)(l(),{ref:b,src:a||i(),alt:n+u+r,"data-card-index":x,onMouseDown:c,onTouchStart:c,onMouseMove:o,onTouchMove:o,onMouseUp:s,onTouchEnd:s,onDoubleClick:f,style:{position:"absolute",top:_,left:p,width:g,height:"auto",transform:d,cursor:"pointer",transition:j||y||h?"all 1s ease-in-out":"none",zIndex:q}})}let f=(0,t.forwardRef)((e,a)=>{let[n,u]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[f,_]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[d,j]=(0,t.useState)(!1),[y,h]=(0,t.useState)(200),[q,x]=(0,t.useState)(0),[b,w]=(0,t.useState)(0),[v,M]=(0,t.useState)(0),[S,I]=(0,t.useState)(0);(0,t.useImperativeHandle)(a,()=>({shuffleCards:N,bindCards:k,verticalCards:T})),(0,t.useEffect)(()=>{let e=window.innerWidth,a=window.innerHeight;u([{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/1.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/2.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/3.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/4.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/5.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/6.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/7.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/8.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/9.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/10.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/11.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/12.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/13.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/14.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/15.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/16.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/17.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/18.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/19.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/20.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/21.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/22.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/23.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/24.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/25.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/26.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/27.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/28.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/29.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/30.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/31.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/32.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/33.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/34.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/35.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/36.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/37.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/38.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/39.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/40.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/41.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/42.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/43.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/44.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/45.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/46.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/47.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/48.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/49.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/50.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/51.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/52.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/53.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/54.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/55.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/56.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/57.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/58.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/59.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/60.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/61.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/62.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/63.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/64.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/65.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/66.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/67.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/68.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/69.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/70.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/71.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/72.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/73.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/74.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/75.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/76.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/77.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/78.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/79.jpg"},{name:"",commentary:"",face_up_file_name:"/quantum-card-app/images/quantum/80.jpg"}].map(n=>({...n,src:i(),top:"".concat(r(0,Math.round(a/2)),"px"),left:"".concat(r(0,Math.round(e/2))+50,"px"),width:"clamp(3.125rem, 1.654rem + 7.35vw, 6.25rem)",transform:"0deg",zIndex:r(1,100)})))},[]);let N=()=>{if(o)return;l(!0);let e=window.innerWidth,a=window.innerHeight,m=Array.from({length:n.length},(e,a)=>a+1);for(let e=m.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[m[e],m[a]]=[m[a],m[e]]}u(n.map((n,t)=>({...n,src:i(),top:"".concat(r(0,Math.round(a/2)),"px"),left:"".concat(r(0,Math.round(e/2))+50,"px"),transform:"rotate(".concat(r(0,360),"deg)"),zIndex:m[t]}))),setTimeout(()=>{l(!1)},1e3)},k=()=>{if(f)return;_(!0);let e=Array.from({length:n.length},(e,a)=>a+1);for(let a=e.length-1;a>0;a--){let n=Math.floor(Math.random()*(a+1));[e[a],e[n]]=[e[n],e[a]]}u(n.map((a,n)=>({...a,src:i(),top:"16px",left:"32px",transform:"rotate(".concat(r(0,1)?180:0,"deg)"),zIndex:e[n]}))),setTimeout(()=>{_(!1)},1e3)},T=()=>{p||(g(!0),u(n.map(e=>({...e,transform:"rotate(".concat(r(0,1)?180:0,"deg)")}))),setTimeout(()=>{g(!1)},1e3))};function C(e){e.nativeEvent instanceof MouseEvent&&e.preventDefault(),e.stopPropagation(),j(!0);let a=e.currentTarget,{pageX:n,pageY:m}=c(e);x(n),w(m),M(parseInt(a.style.top||"0")||0),I(parseInt(a.style.left||"0")||0),a.style.zIndex=y.toString(),h(e=>e+1)}function z(e){if(!d)return;e.stopPropagation();let{pageX:a,pageY:n}=c(e),m=e.currentTarget,t=S-(q-a),r=v-(b-n);u(e=>{let a=parseInt(m.dataset.cardIndex||"0");return e.map((e,n)=>n===a?{...e,left:"".concat(t,"px"),top:"".concat(r,"px")}:e)})}function P(e){if(!d)return;e.stopPropagation(),j(!1);let{pageX:a,pageY:n}=c(e),m=e.currentTarget,t=S-(q-a),r=v-(b-n);u(e=>{let a=parseInt(m.dataset.cardIndex||"0");return e.map((e,n)=>n===a?{...e,left:"".concat(t,"px"),top:"".concat(r,"px")}:e)})}function E(e){e.stopPropagation();let a=e.currentTarget;u(e=>{let n=parseInt(a.dataset.cardIndex||"0");return e.map((e,a)=>a===n?{...e,src:e.src.includes(i())?e.face_up_file_name:i()}:e)})}return(0,m.jsx)(m.Fragment,{children:n.map((e,a)=>(0,m.jsx)(s,{src:e.src,name:e.name,commentary:e.commentary,faceUpFileName:e.face_up_file_name,handleMouseDown:C,handleMouseMove:z,handleMouseUp:P,handleDoubleClick:E,top:e.top,left:e.left,width:e.width,transform:e.transform,isShuffling:o,isBinding:f,isVertical:p,zIndex:e.zIndex,dataCardIndex:a},a))})});f.displayName="CardList";let _=(0,t.forwardRef)((e,a)=>{let n=(0,t.useRef)(null),[u,r]=(0,t.useState)(!1),i=(0,t.useRef)(null);return(0,t.useImperativeHandle)(a,()=>({handleShuffle:()=>{i.current&&i.current.shuffleCards()},handleBind:()=>{i.current&&i.current.bindCards()},handleVertical:()=>{i.current&&i.current.verticalCards()}})),(0,t.useEffect)(()=>{let e=setTimeout(()=>r(!0),500);return()=>clearTimeout(e)},[]),(0,m.jsx)("main",{ref:n,className:"relative",children:u&&(0,m.jsx)(f,{ref:i})})});function p(){let e=(0,t.useRef)(null);return(0,m.jsxs)("div",{className:"m-0 p-0 overflow-hidden bg-[#ccb7e0] min-h-screen",children:[(0,m.jsx)(u,{onShuffle:()=>{e.current&&e.current.handleShuffle()},onBind:()=>{e.current&&e.current.handleBind()},onVertical:()=>{e.current&&e.current.handleVertical()}}),(0,m.jsx)(_,{ref:e})]})}_.displayName="MainSection"}},e=>{var a=a=>e(e.s=a);e.O(0,[970,441,517,358],()=>a(4305)),_N_E=e.O()}]);